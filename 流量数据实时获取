<mxfile host="app.diagrams.net" modified="2022-01-28T10:14:38.942Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36" etag="5Ter7vnTCzzIpQBLLByO" version="16.2.1" type="github" pages="5">
  <diagram id="TsNh4247AhXOl7paG_yA" name="架构对比">
    <mxGraphModel dx="1872" dy="836" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="ewVBDzP0U-T9dbjZYxc_-16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ewVBDzP0U-T9dbjZYxc_-6" target="ewVBDzP0U-T9dbjZYxc_-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ewVBDzP0U-T9dbjZYxc_-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ewVBDzP0U-T9dbjZYxc_-6" target="ewVBDzP0U-T9dbjZYxc_-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ewVBDzP0U-T9dbjZYxc_-6" value="Kafka" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#1ba1e2;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="344" y="200" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ewVBDzP0U-T9dbjZYxc_-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.571;entryY=-0.06;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="ewVBDzP0U-T9dbjZYxc_-10" target="ewVBDzP0U-T9dbjZYxc_-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ewVBDzP0U-T9dbjZYxc_-10" value="WEB" style="swimlane;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1" collapsed="1">
          <mxGeometry x="100" y="30" width="90" height="23" as="geometry">
            <mxRectangle x="100" y="30" width="200" height="140" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ewVBDzP0U-T9dbjZYxc_-12" value="埋点" style="whiteSpace=wrap;html=1;" parent="ewVBDzP0U-T9dbjZYxc_-10" vertex="1">
          <mxGeometry x="30" y="50" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ewVBDzP0U-T9dbjZYxc_-35" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ewVBDzP0U-T9dbjZYxc_-15" target="ewVBDzP0U-T9dbjZYxc_-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ewVBDzP0U-T9dbjZYxc_-15" value="FLINK" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;rounded=1;strokeWidth=2;fillColor=#e1d5e7;sketch=1;fillWeight=4;hachureGap=8;hachureAngle=45;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="100" y="405" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ewVBDzP0U-T9dbjZYxc_-20" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ewVBDzP0U-T9dbjZYxc_-17" target="ewVBDzP0U-T9dbjZYxc_-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ewVBDzP0U-T9dbjZYxc_-17" value="FLUME" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;rounded=1;strokeWidth=2;fillColor=#f8cecc;sketch=1;fillWeight=4;hachureGap=8;hachureAngle=45;direction=south;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="560" y="260" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ewVBDzP0U-T9dbjZYxc_-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ewVBDzP0U-T9dbjZYxc_-19" target="ewVBDzP0U-T9dbjZYxc_-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ewVBDzP0U-T9dbjZYxc_-19" value="HDFS" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#b85450;strokeWidth=2;fillColor=#f8cecc;sketch=1;fillWeight=4;hachureGap=8;hachureAngle=45;" parent="1" vertex="1">
          <mxGeometry x="550" y="380" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewVBDzP0U-T9dbjZYxc_-24" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ewVBDzP0U-T9dbjZYxc_-21" target="ewVBDzP0U-T9dbjZYxc_-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ewVBDzP0U-T9dbjZYxc_-21" value="MapReduce&amp;nbsp;" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;rounded=1;strokeColor=#b85450;strokeWidth=2;fillColor=#f8cecc;sketch=1;fillWeight=4;hachureGap=8;hachureAngle=45;" parent="1" vertex="1">
          <mxGeometry x="540" y="470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ewVBDzP0U-T9dbjZYxc_-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="ewVBDzP0U-T9dbjZYxc_-23" target="ewVBDzP0U-T9dbjZYxc_-19" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="490" y="610" />
              <mxPoint x="490" y="390" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ewVBDzP0U-T9dbjZYxc_-23" value="HIVE" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;rounded=1;strokeColor=#b85450;strokeWidth=2;fillColor=#f8cecc;sketch=1;fillWeight=4;hachureGap=8;hachureAngle=45;" parent="1" vertex="1">
          <mxGeometry x="540" y="570" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ewVBDzP0U-T9dbjZYxc_-26" value="离线处理" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="730" y="445" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ewVBDzP0U-T9dbjZYxc_-34" value="Clickhouse" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;strokeWidth=2;fillColor=#e1d5e7;sketch=1;fillWeight=4;hachureGap=8;hachureAngle=45;" parent="1" vertex="1">
          <mxGeometry x="100" y="525" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="E5yr9l8IPlaC-RiHwlKh-1" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;flipH=1;fontSize=18;direction=west;" parent="1" vertex="1">
          <mxGeometry x="70" y="430" width="20" height="120" as="geometry" />
        </mxCell>
        <mxCell id="E5yr9l8IPlaC-RiHwlKh-3" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;flipH=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="690" y="300" width="20" height="310" as="geometry" />
        </mxCell>
        <mxCell id="E5yr9l8IPlaC-RiHwlKh-5" value="实时处理" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="10" y="480" width="60" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="Y5hvxkkLXyOlrPWuIPlD" name="FLINK简述">
    <mxGraphModel dx="2699" dy="836" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="dLv25OxKsEfex5IAlNTo-0" />
        <mxCell id="dLv25OxKsEfex5IAlNTo-1" parent="dLv25OxKsEfex5IAlNTo-0" />
        <mxCell id="dLv25OxKsEfex5IAlNTo-2" value="&lt;font style=&quot;font-size: 18px&quot;&gt;&lt;span style=&quot;font-weight: bolder ; box-sizing: inherit ; font-family: &amp;#34;helvetica neue&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; background-color: rgb(255 , 255 , 255)&quot;&gt;Apache Flink&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;helvetica neue&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; background-color: rgb(255 , 255 , 255)&quot;&gt;&amp;nbsp;is a framework and distributed processing engine for stateful computations over&lt;br&gt;&lt;/span&gt;&lt;em style=&quot;box-sizing: inherit ; font-family: &amp;#34;helvetica neue&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; background-color: rgb(255 , 255 , 255)&quot;&gt;unbounded&lt;/em&gt;&lt;span style=&quot;font-family: &amp;#34;helvetica neue&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; background-color: rgb(255 , 255 , 255)&quot;&gt;&amp;nbsp;and&amp;nbsp;&lt;/span&gt;&lt;em style=&quot;box-sizing: inherit ; font-family: &amp;#34;helvetica neue&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; background-color: rgb(255 , 255 , 255)&quot;&gt;bounded&lt;/em&gt;&lt;span style=&quot;font-family: &amp;#34;helvetica neue&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; background-color: rgb(255 , 255 , 255)&quot;&gt;&amp;nbsp;data streams.Flink has been designed to run &lt;br&gt;in&amp;nbsp;&lt;/span&gt;&lt;em style=&quot;box-sizing: inherit ; font-family: &amp;#34;helvetica neue&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; background-color: rgb(255 , 255 , 255)&quot;&gt;all common cluster environments&lt;/em&gt;&lt;span style=&quot;font-family: &amp;#34;helvetica neue&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; background-color: rgb(255 , 255 , 255)&quot;&gt;&amp;nbsp;perform computations at&amp;nbsp;&lt;/span&gt;&lt;em style=&quot;box-sizing: inherit ; font-family: &amp;#34;helvetica neue&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; background-color: rgb(255 , 255 , 255)&quot;&gt;in-memory&lt;/em&gt;&lt;span style=&quot;font-family: &amp;#34;helvetica neue&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; background-color: rgb(255 , 255 , 255)&quot;&gt;&amp;nbsp;speed and at&amp;nbsp;&lt;/span&gt;&lt;em style=&quot;box-sizing: inherit ; font-family: &amp;#34;helvetica neue&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; background-color: rgb(255 , 255 , 255)&quot;&gt;any scale&lt;/em&gt;&lt;span style=&quot;font-family: &amp;#34;helvetica neue&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; background-color: rgb(255 , 255 , 255)&quot;&gt;.&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="dLv25OxKsEfex5IAlNTo-1" vertex="1">
          <mxGeometry x="-803" y="190" width="780" height="50" as="geometry" />
        </mxCell>
        <mxCell id="dLv25OxKsEfex5IAlNTo-3" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://nightlies.apache.org/flink/flink-docs-release-1.13/flink-header-logo.svg;" parent="dLv25OxKsEfex5IAlNTo-1" vertex="1">
          <mxGeometry x="-770" y="10" width="291" height="150" as="geometry" />
        </mxCell>
        <mxCell id="dLv25OxKsEfex5IAlNTo-6" value="Advantages" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontSize=18;" parent="dLv25OxKsEfex5IAlNTo-1" vertex="1">
          <mxGeometry x="-790" y="300" width="300" height="156" as="geometry">
            <mxRectangle x="-360" y="430" width="60" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dLv25OxKsEfex5IAlNTo-7" value="stateful computations" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=18;" parent="dLv25OxKsEfex5IAlNTo-6" vertex="1">
          <mxGeometry y="26" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="dLv25OxKsEfex5IAlNTo-8" value="unbounded and bounded data " style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=18;" parent="dLv25OxKsEfex5IAlNTo-6" vertex="1">
          <mxGeometry y="52" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="dLv25OxKsEfex5IAlNTo-9" value="Time " style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=18;" parent="dLv25OxKsEfex5IAlNTo-6" vertex="1">
          <mxGeometry y="78" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="dLv25OxKsEfex5IAlNTo-10" value="Window" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=18;" parent="dLv25OxKsEfex5IAlNTo-6" vertex="1">
          <mxGeometry y="104" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="dLv25OxKsEfex5IAlNTo-11" value="Exactly Once" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=18;" parent="dLv25OxKsEfex5IAlNTo-6" vertex="1">
          <mxGeometry y="130" width="300" height="26" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="4SdC18KjbzwI0px48fAb" name="数据流DEMO">
    <mxGraphModel dx="1872" dy="836" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="UWtzGc6chlv8MQ7_5gON-0" />
        <mxCell id="UWtzGc6chlv8MQ7_5gON-1" parent="UWtzGc6chlv8MQ7_5gON-0" />
        <mxCell id="UWtzGc6chlv8MQ7_5gON-3" value="&lt;font style=&quot;font-size: 20px&quot;&gt;数据流DEMO&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=18;" parent="UWtzGc6chlv8MQ7_5gON-1" vertex="1">
          <mxGeometry x="40" y="75" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UWtzGc6chlv8MQ7_5gON-11" value="Source" style="swimlane;fontSize=18;gradientColor=none;" parent="UWtzGc6chlv8MQ7_5gON-1" vertex="1" collapsed="1">
          <mxGeometry x="50" y="340" width="90" height="30" as="geometry">
            <mxRectangle x="50" y="340" width="280" height="330" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UWtzGc6chlv8MQ7_5gON-16" value="&lt;div&gt;kafkatopic=shop2cn&amp;nbsp;&lt;/div&gt;&lt;div&gt;ip=106.87.5.38&amp;nbsp;&lt;/div&gt;&lt;div&gt;forwardedip=106.87.5.38, 127.0.0.1&amp;nbsp;&lt;/div&gt;&lt;div&gt;pagetype=product&amp;nbsp;&lt;/div&gt;&lt;div&gt;refpagetype=showactivity&amp;nbsp;&lt;/div&gt;&lt;div&gt;mch_eeid=0&amp;nbsp;&lt;/div&gt;&lt;div&gt;pagestarttime=1635487188049&amp;nbsp;&lt;/div&gt;&lt;div&gt;device_model=PEQM00&amp;nbsp;&lt;/div&gt;&lt;div&gt;packageid=wechat&amp;nbsp;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=18;align=left;fillColor=#cce5ff;strokeColor=#36393d;" parent="UWtzGc6chlv8MQ7_5gON-11" vertex="1">
          <mxGeometry x="10" y="40" width="260" height="260" as="geometry" />
        </mxCell>
        <mxCell id="UWtzGc6chlv8MQ7_5gON-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" parent="UWtzGc6chlv8MQ7_5gON-1" source="UWtzGc6chlv8MQ7_5gON-15" target="UWtzGc6chlv8MQ7_5gON-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UWtzGc6chlv8MQ7_5gON-15" value="Kafka" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#1ba1e2;sketch=1;fontSize=18;" parent="UWtzGc6chlv8MQ7_5gON-1" vertex="1">
          <mxGeometry x="50" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UWtzGc6chlv8MQ7_5gON-27" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" parent="UWtzGc6chlv8MQ7_5gON-1" source="UWtzGc6chlv8MQ7_5gON-17" target="UWtzGc6chlv8MQ7_5gON-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UWtzGc6chlv8MQ7_5gON-17" value="Flink" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;rounded=1;fontSize=18;strokeWidth=2;fillColor=#f8cecc;sketch=1;fillWeight=4;hachureGap=8;hachureAngle=45;strokeColor=#b85450;" parent="UWtzGc6chlv8MQ7_5gON-1" vertex="1">
          <mxGeometry x="250" y="220" width="220" height="100" as="geometry" />
        </mxCell>
        <mxCell id="UWtzGc6chlv8MQ7_5gON-19" value="Transformation" style="swimlane;fontSize=18;gradientColor=none;align=center;" parent="UWtzGc6chlv8MQ7_5gON-1" vertex="1" collapsed="1">
          <mxGeometry x="270" y="340" width="160" height="30" as="geometry">
            <mxRectangle x="270" y="340" width="220" height="700" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UWtzGc6chlv8MQ7_5gON-20" value="1.json -&amp;gt;javabean" style="whiteSpace=wrap;html=1;fontSize=18;align=left;fillColor=#fff2cc;strokeColor=#d6b656;" parent="UWtzGc6chlv8MQ7_5gON-19" vertex="1">
          <mxGeometry x="10" y="40" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UWtzGc6chlv8MQ7_5gON-21" value="2.参照表字段,补充javabean,字段对应" style="whiteSpace=wrap;html=1;fontSize=18;align=left;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="UWtzGc6chlv8MQ7_5gON-19" vertex="1">
          <mxGeometry x="10" y="110" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UWtzGc6chlv8MQ7_5gON-22" value="3.以userid对用户分组,进行会话划分&lt;br&gt;划分原则:45分钟为一次会话&lt;br&gt;实现:flink 状态+TTL" style="whiteSpace=wrap;html=1;fontSize=18;align=left;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="UWtzGc6chlv8MQ7_5gON-19" vertex="1">
          <mxGeometry x="10" y="184.5" width="200" height="115.5" as="geometry" />
        </mxCell>
        <mxCell id="UWtzGc6chlv8MQ7_5gON-23" value="4.新老用户校验&lt;br&gt;userid/cookieid/&lt;br&gt;userid+cookieid&lt;br&gt;方案1.状态 - 数据不能删除,状态累积&lt;br&gt;方案2.使用外部系统redis存储&amp;nbsp;&lt;br&gt;校验&amp;gt;修正&lt;br&gt;需要历史数据,读取历史数据,刷写到redis key:1/0" style="whiteSpace=wrap;html=1;fontSize=18;align=left;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="UWtzGc6chlv8MQ7_5gON-19" vertex="1">
          <mxGeometry x="10" y="310" width="200" height="250" as="geometry" />
        </mxCell>
        <mxCell id="UWtzGc6chlv8MQ7_5gON-25" value="5.脏数据-&amp;gt;侧输出流" style="whiteSpace=wrap;html=1;fontSize=18;align=left;fillColor=#ffff88;strokeColor=#36393d;" parent="UWtzGc6chlv8MQ7_5gON-19" vertex="1">
          <mxGeometry x="10" y="570" width="200" height="115.5" as="geometry" />
        </mxCell>
        <mxCell id="UWtzGc6chlv8MQ7_5gON-26" value="clickhouse" style="whiteSpace=wrap;html=1;rounded=1;fontSize=18;strokeColor=#36393d;strokeWidth=2;fillColor=#cdeb8b;sketch=1;fillWeight=4;hachureGap=8;hachureAngle=45;" parent="UWtzGc6chlv8MQ7_5gON-1" vertex="1">
          <mxGeometry x="590" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UWtzGc6chlv8MQ7_5gON-34" value="Sink" style="swimlane;fontSize=18;gradientColor=none;" parent="UWtzGc6chlv8MQ7_5gON-1" vertex="1">
          <mxGeometry x="540" y="320" width="280" height="220" as="geometry">
            <mxRectangle x="600" y="340" width="90" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UWtzGc6chlv8MQ7_5gON-35" value="1.HA : 三分片 + 2 副本&lt;br&gt;2.Enginee : Distributed + replicated&lt;br&gt;3." style="whiteSpace=wrap;html=1;fontSize=18;gradientColor=none;align=left;" parent="UWtzGc6chlv8MQ7_5gON-34" vertex="1">
          <mxGeometry x="10" y="40" width="260" height="150" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="PT_SqzCMvrd6ZCpqwRNA" name="实时DW">
    <mxGraphModel dx="1806" dy="553" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="KcFlxBqZOQjekaaYG0BG-0" />
        <mxCell id="KcFlxBqZOQjekaaYG0BG-1" parent="KcFlxBqZOQjekaaYG0BG-0" />
        <mxCell id="KcFlxBqZOQjekaaYG0BG-2" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://nightlies.apache.org/flink/flink-docs-release-1.13/flink-header-logo.svg;" vertex="1" parent="KcFlxBqZOQjekaaYG0BG-1">
          <mxGeometry x="-810" y="20" width="116.4" height="60" as="geometry" />
        </mxCell>
        <mxCell id="KcFlxBqZOQjekaaYG0BG-3" value="1.基础架构" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="KcFlxBqZOQjekaaYG0BG-1">
          <mxGeometry x="-690" y="120" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KcFlxBqZOQjekaaYG0BG-4" value="2.数据时效" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="KcFlxBqZOQjekaaYG0BG-1">
          <mxGeometry x="-690" y="200" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KcFlxBqZOQjekaaYG0BG-5" value="3.异常" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="KcFlxBqZOQjekaaYG0BG-1">
          <mxGeometry x="-701" y="280" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KcFlxBqZOQjekaaYG0BG-6" value="4.数据指标" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="KcFlxBqZOQjekaaYG0BG-1">
          <mxGeometry x="-690" y="360" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KcFlxBqZOQjekaaYG0BG-7" value="5.版本管理" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="KcFlxBqZOQjekaaYG0BG-1">
          <mxGeometry x="-691" y="440" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KcFlxBqZOQjekaaYG0BG-8" value="6.其它" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="KcFlxBqZOQjekaaYG0BG-1">
          <mxGeometry x="-703" y="520" width="80" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="FTzgaFKi1A-IIRY_A69J" name="基础架构">
    <mxGraphModel dx="1183" dy="622" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="n1pq0mXkpIzFUbBp9szq-0" />
        <mxCell id="n1pq0mXkpIzFUbBp9szq-1" parent="n1pq0mXkpIzFUbBp9szq-0" />
        <mxCell id="HQouiPgkSgkIsvQyMTj6-0" value="" style="aspect=fixed;perimeter=ellipsePerimeter;html=1;align=center;shadow=0;dashed=0;spacingTop=3;image;image=img/lib/active_directory/databases.svg;" vertex="1" parent="n1pq0mXkpIzFUbBp9szq-1">
          <mxGeometry x="55.39" y="330" width="61.22" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HQouiPgkSgkIsvQyMTj6-1" value="" style="aspect=fixed;perimeter=ellipsePerimeter;html=1;align=center;shadow=0;dashed=0;spacingTop=3;image;image=img/lib/active_directory/laptop_client.svg;" vertex="1" parent="n1pq0mXkpIzFUbBp9szq-1">
          <mxGeometry x="50" y="150" width="72" height="80" as="geometry" />
        </mxCell>
        <mxCell id="HQouiPgkSgkIsvQyMTj6-2" value="数据埋点" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="n1pq0mXkpIzFUbBp9szq-1">
          <mxGeometry x="50" y="240" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="HQouiPgkSgkIsvQyMTj6-3" value="数据库" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="n1pq0mXkpIzFUbBp9szq-1">
          <mxGeometry x="60.39" y="410" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="HQouiPgkSgkIsvQyMTj6-4" value="" style="aspect=fixed;perimeter=ellipsePerimeter;html=1;align=center;shadow=0;dashed=0;spacingTop=3;image;image=img/lib/active_directory/tunnel.svg;" vertex="1" parent="n1pq0mXkpIzFUbBp9szq-1">
          <mxGeometry x="190" y="280" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HQouiPgkSgkIsvQyMTj6-8" value="" style="endArrow=classic;html=1;rounded=0;entryX=-0.027;entryY=-0.167;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="n1pq0mXkpIzFUbBp9szq-1" target="HQouiPgkSgkIsvQyMTj6-4">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="130" y="230" as="sourcePoint" />
            <mxPoint x="200" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HQouiPgkSgkIsvQyMTj6-9" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="n1pq0mXkpIzFUbBp9szq-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="130" y="360" as="sourcePoint" />
            <mxPoint x="180" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HQouiPgkSgkIsvQyMTj6-10" value="springboot/flume" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="n1pq0mXkpIzFUbBp9szq-1">
          <mxGeometry x="150" y="230" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="HQouiPgkSgkIsvQyMTj6-11" value="CDC" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="n1pq0mXkpIzFUbBp9szq-1">
          <mxGeometry x="150" y="350" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ui2h6JTtV-rzYCeTuWcD-0" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="n1pq0mXkpIzFUbBp9szq-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="350" y="294.5" as="sourcePoint" />
            <mxPoint x="400" y="294.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ui2h6JTtV-rzYCeTuWcD-2" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://nightlies.apache.org/flink/flink-docs-release-1.13/flink-header-logo.svg;" vertex="1" parent="n1pq0mXkpIzFUbBp9szq-1">
          <mxGeometry x="414" y="272.5" width="87.3" height="45" as="geometry" />
        </mxCell>
        <mxCell id="ui2h6JTtV-rzYCeTuWcD-3" value="Transformation" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="n1pq0mXkpIzFUbBp9szq-1">
          <mxGeometry x="400" y="330" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ui2h6JTtV-rzYCeTuWcD-4" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="n1pq0mXkpIzFUbBp9szq-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="520" y="297" as="sourcePoint" />
            <mxPoint x="570" y="297" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ui2h6JTtV-rzYCeTuWcD-5" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://clickhouse.com/images/logo.svg;" vertex="1" parent="n1pq0mXkpIzFUbBp9szq-1">
          <mxGeometry x="590" y="280" width="54" height="48" as="geometry" />
        </mxCell>
        <mxCell id="ui2h6JTtV-rzYCeTuWcD-16" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="n1pq0mXkpIzFUbBp9szq-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="660" y="303.58" as="sourcePoint" />
            <mxPoint x="700" y="303.58" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ui2h6JTtV-rzYCeTuWcD-17" value="" style="aspect=fixed;perimeter=ellipsePerimeter;html=1;align=center;shadow=0;dashed=0;spacingTop=3;image;image=img/lib/active_directory/wiki_site.svg;" vertex="1" parent="n1pq0mXkpIzFUbBp9szq-1">
          <mxGeometry x="710" y="260" width="82" height="82" as="geometry" />
        </mxCell>
        <mxCell id="ui2h6JTtV-rzYCeTuWcD-18" value="前端" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="n1pq0mXkpIzFUbBp9szq-1">
          <mxGeometry x="730" y="342" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ui2h6JTtV-rzYCeTuWcD-19" value="redis&lt;br&gt;&lt;br&gt;hbase" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="n1pq0mXkpIzFUbBp9szq-1">
          <mxGeometry x="425" y="370" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ui2h6JTtV-rzYCeTuWcD-20" value="kafka" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="n1pq0mXkpIzFUbBp9szq-1">
          <mxGeometry x="240" y="310" width="40" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
